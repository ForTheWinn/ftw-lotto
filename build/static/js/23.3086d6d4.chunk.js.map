{"version":3,"sources":["../../neo-react/packages/local-wallet/lib/scenes/import-file/components/import-button/index.js"],"names":["__webpack_require__","r","__webpack_exports__","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","n","_components_display_error__WEBPACK_IMPORTED_MODULE_2__","_ref","onImport","_useState","Object","_useState2","error","setError","a","createElement","Fragment","message","onClose","undefined","className","onChange","e","target","files","length","reader","FileReader","onload","event","jsonObj","JSON","parse","result","accounts","wallets","map","acc","address","encryptedKey","key","readAsText","type","name","accept"],"mappings":"2FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,GAAAK,EAAAL,EAAAM,EAAAF,GAAAG,EAAAP,EAAA,KA+DeE,EAAA,QA3Df,SAAAM,GACA,IAAAC,EAAAD,EAAAC,SAEAC,EAAkBC,OAAAP,EAAA,SAAAO,GAClBC,EAAmBD,OAAAR,EAAA,EAAAQ,CAAcD,EAAA,GACjCG,EAAAD,EAAA,GACAE,EAAAF,EAAA,GA+BA,OAASP,EAAAU,EAAKC,cAAeX,EAAAU,EAAKE,SAAA,OAAAJ,GAAyBR,EAAAU,EAAKC,cAAeT,EAAA,QAAY,CAC3FW,QAAAL,EACAM,QAAA,WACA,OAAAL,OAAAM,MAEcf,EAAAU,EAAKC,cAAA,OACnBK,UAAA,QACKhB,EAAAU,EAAKC,cAAA,SACVK,UAAA,cACKhB,EAAAU,EAAKC,cAAA,SACVM,SAvCA,SAAAC,GACA,GAAAA,EAAAC,OAAAC,OAAAF,EAAAC,OAAAC,MAAAC,OACA,IACA,IAAAC,EAAA,IAAAC,WAmBA,OAjBAD,EAAAE,OAAA,SAAAC,GACA,IAAAC,EAAAC,KAAAC,MAAAH,EAAAN,OAAAU,QAEA,GAAAH,EAAAI,UAAAJ,EAAAI,SAAAT,OAAA,CACA,IAAAU,EAAAL,EAAAI,SAAAE,IAAA,SAAAC,GACA,OACAC,QAAAD,EAAAC,QACAC,aAAAF,EAAAG,OAGAhC,EAAA2B,QAEAtB,EAAA,oCAIAa,EAAAe,WAAAnB,EAAAC,OAAAC,MAAA,KACA,EACO,MAAAF,GACPT,EAAAS,EAAAL,WAgBAG,UAAA,aACAsB,KAAA,OACAC,KAAA,SACAC,OAAA,2BACMxC,EAAAU,EAAKC,cAAA,QACXK,UAAA,4BACKhB,EAAAU,EAAKC,cAAA,QACVK,UAAA,cACG","file":"static/js/23.3086d6d4.chunk.js","sourcesContent":["import _slicedToArray from \"/Users/ed/Projects/modules/lottery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from \"react\";\nimport DisplayError from \"../../../../components/display-error\";\n\nvar ImportButton = function ImportButton(_ref) {\n  var onImport = _ref.onImport;\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      error = _useState2[0],\n      setError = _useState2[1];\n\n  var handleImportKeyfile = function handleImportKeyfile(e) {\n    if (e.target.files && e.target.files.length) {\n      try {\n        var reader = new FileReader();\n\n        reader.onload = function (event) {\n          var jsonObj = JSON.parse(event.target.result);\n\n          if (jsonObj.accounts && jsonObj.accounts.length) {\n            var wallets = jsonObj.accounts.map(function (acc) {\n              return {\n                address: acc.address,\n                encryptedKey: acc.key\n              };\n            });\n            onImport(wallets);\n          } else {\n            setError(\"Cannot find account in the file\");\n          }\n        };\n\n        reader.readAsText(e.target.files[0]);\n        return false;\n      } catch (e) {\n        setError(e.message);\n      }\n    }\n  };\n\n  return React.createElement(React.Fragment, null, error ? React.createElement(DisplayError, {\n    message: error,\n    onClose: function onClose() {\n      return setError(undefined);\n    }\n  }) : false, React.createElement(\"div\", {\n    className: \"file\"\n  }, React.createElement(\"label\", {\n    className: \"file-label\"\n  }, React.createElement(\"input\", {\n    onChange: handleImportKeyfile,\n    className: \"file-input\",\n    type: \"file\",\n    name: \"resume\",\n    accept: \".json,application/json\"\n  }), React.createElement(\"span\", {\n    className: \"file-cta button is-light\"\n  }, React.createElement(\"span\", {\n    className: \"file-label\"\n  }, \"Select wallet file\")))));\n};\n\nexport default ImportButton;"],"sourceRoot":""}