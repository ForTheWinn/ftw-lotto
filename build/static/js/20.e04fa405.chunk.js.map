{"version":3,"sources":["../../neo-react/packages/local-wallet/lib/scenes/saved-wallets/index.js","../../neo-react/packages/local-wallet/lib/scenes/saved-wallets/components/form.js"],"names":["__webpack_require__","r","__webpack_exports__","_cityofzion_neon_js__WEBPACK_IMPORTED_MODULE_0__","_cityofzion_neon_js__WEBPACK_IMPORTED_MODULE_0___default","n","formik__WEBPACK_IMPORTED_MODULE_1__","_components_form__WEBPACK_IMPORTED_MODULE_2__","yup__WEBPACK_IMPORTED_MODULE_3__","ValidateSchema","shape","password","required","SavedWallets","Object","mapPropsToValues","props","encryptedKey","savedWallets","length","validationSchema","handleSubmit","values","_ref","setSubmitting","setStatus","a","create","account","decrypt","then","onConnected","provider","address","privateKey","encrypted","catch","e","error","message","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_components_password_input__WEBPACK_IMPORTED_MODULE_2__","_components_display_error__WEBPACK_IMPORTED_MODULE_3__","_props$savedWallets","isSubmitting","errors","setFieldValue","submitForm","status","createElement","className","onBlur","target","value","map","item","key","onKeyDown","onChange","val","onClose","undefined","disabled","type","concat"],"mappings":"8FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,KAAAO,EAAAP,EAAA,KAAAQ,EAAAR,EAAA,KAIAS,EAAqBD,EAAA,SAAUE,MAAA,CAC/BC,SAAYH,EAAA,SAAUI,SAAA,cAEtBC,EAAmBC,OAAAR,EAAA,EAAAQ,CAAU,CAC7BC,iBAAA,SAAAC,GACA,OACAC,aAAAD,EAAAE,cAAAF,EAAAE,aAAAC,OAAA,EAAAH,EAAAE,aAAA,GAAAD,aAAA,GACAN,SAAA,KAGAS,iBAAAX,EACAY,aAAA,SAAAC,EAAAC,GACA,IAAAP,EAAAO,EAAAP,MACAQ,EAAAD,EAAAC,cACAC,EAAAF,EAAAE,UACkBrB,EAAAsB,EAAIC,OAAAC,QAAAN,EAAAL,cACtBY,QAAAP,EAAAX,UAAAmB,KAAA,SAAAF,GACAJ,GAAA,GACAR,EAAAe,YAAA,CACAC,SAAA,QACAC,QAAAL,EAAAK,QACAC,WAAAN,EAAAM,WACAjB,aAAAW,EAAAO,cAEKC,MAAA,SAAAC,GACLb,GAAA,GACAC,EAAA,CACAa,MAAAD,EAAAE,cAxBmBzB,CA4BhBP,EAAA,SACYL,EAAA,4CCpCfF,EAAAC,EAAAC,GAAA,IAAAsC,EAAAxC,EAAA,GAAAyC,EAAAzC,EAAAK,EAAAmC,GAAAlC,EAAAN,EAAA,KAAA0C,EAAA1C,EAAA,KAAA2C,EAAA3C,EAAA,KA0DeE,EAAA,QArDf,SAAAc,GACA,IAAA4B,EAAA5B,EAAAE,aACAA,OAAA,IAAA0B,EAAA,GAAAA,EAEAC,GADA7B,EAAA8B,OACA9B,EAAA6B,cACAvB,EAAAN,EAAAM,OACAyB,EAAA/B,EAAA+B,cACAC,EAAAhC,EAAAgC,WACAC,EAAAjC,EAAAiC,OACAxB,EAAAT,EAAAS,UACA,OAASgB,EAAAf,EAAKwB,cAAe5C,EAAA,EAAU,KAAQmC,EAAAf,EAAKwB,cAAA,OACpDC,UAAA,SACKV,EAAAf,EAAKwB,cAAA,OACVC,UAAA,SACG,iBAAoBV,EAAAf,EAAKwB,cAAA,OAC5BC,UAAA,WACKV,EAAAf,EAAKwB,cAAA,OACVC,UAAA,uBACKV,EAAAf,EAAKwB,cAAA,UACVE,OAAA,SAAAf,GACA,OAAAU,EAAA,eAAAV,EAAAgB,OAAAC,SAEGpC,EAAAqC,IAAA,SAAAC,GACH,SAAAA,MAAAvB,UACaQ,EAAAf,EAAKwB,cAAA,UAClBO,IAAAD,EAAAvB,QACAqB,MAAAE,EAAAvC,cACOuC,EAAAvB,eAIGQ,EAAAf,EAAKwB,cAAA,OACfC,UAAA,SACKV,EAAAf,EAAKwB,cAAA,OACVC,UAAA,SACG,YAAeV,EAAAf,EAAKwB,cAAeR,EAAA,QAAa,CACnDgB,UAAAV,EACAM,MAAAhC,EAAAX,SACAgD,SAAA,SAAAC,GACA,OAAAb,EAAA,WAAAa,UAEGX,MAAAX,QAA6BG,EAAAf,EAAKwB,cAAeP,EAAA,QAAY,CAChEJ,QAAAU,EAAAX,MACAuB,QAAA,WACA,OAAApC,OAAAqC,MAEcrB,EAAAf,EAAKwB,cAAA,UACnBa,UAAAzC,EAAAX,SACAqD,KAAA,SACAb,UAAA,kBAAAc,OAAApB,EAAA,kBACG","file":"static/js/20.e04fa405.chunk.js","sourcesContent":["import Neon from \"@cityofzion/neon-js\";\nimport { withFormik } from \"formik\";\nimport Form from \"./components/form\";\nimport * as Yup from \"yup\";\nvar ValidateSchema = Yup.object().shape({\n  password: Yup.string().required(\"Required\")\n});\nvar SavedWallets = withFormik({\n  mapPropsToValues: function mapPropsToValues(props) {\n    return {\n      encryptedKey: props.savedWallets && props.savedWallets.length > 0 ? props.savedWallets[0].encryptedKey : \"\",\n      password: \"\"\n    };\n  },\n  validationSchema: ValidateSchema,\n  handleSubmit: function handleSubmit(values, _ref) {\n    var props = _ref.props,\n        setSubmitting = _ref.setSubmitting,\n        setStatus = _ref.setStatus;\n    var account = Neon.create.account(values.encryptedKey);\n    account.decrypt(values.password).then(function (account) {\n      setSubmitting(false);\n      props.onConnected({\n        provider: \"LOCAL\",\n        address: account.address,\n        privateKey: account.privateKey,\n        encryptedKey: account.encrypted\n      });\n    }).catch(function (e) {\n      setSubmitting(false);\n      setStatus({\n        error: e.message\n      });\n    });\n  }\n})(Form);\nexport default SavedWallets;","import React from \"react\";\nimport { Form as FormikForm } from \"formik\";\nimport PasswordInput from \"../../../components/password-input\";\nimport DisplayError from \"../../../components/display-error\";\n\nvar Form = function Form(props) {\n  var _props$savedWallets = props.savedWallets,\n      savedWallets = _props$savedWallets === void 0 ? [] : _props$savedWallets,\n      errors = props.errors,\n      isSubmitting = props.isSubmitting,\n      values = props.values,\n      setFieldValue = props.setFieldValue,\n      submitForm = props.submitForm,\n      status = props.status,\n      setStatus = props.setStatus;\n  return React.createElement(FormikForm, null, React.createElement(\"div\", {\n    className: \"field\"\n  }, React.createElement(\"div\", {\n    className: \"label\"\n  }, \"Saved wallets\"), React.createElement(\"div\", {\n    className: \"control\"\n  }, React.createElement(\"div\", {\n    className: \"select is-fullwidth\"\n  }, React.createElement(\"select\", {\n    onBlur: function onBlur(e) {\n      return setFieldValue(\"encryptedKey\", e.target.value);\n    }\n  }, savedWallets.map(function (item) {\n    if (item && item.address) {\n      return React.createElement(\"option\", {\n        key: item.address,\n        value: item.encryptedKey\n      }, item.address);\n    }\n\n    return false;\n  }))))), React.createElement(\"div\", {\n    className: \"field\"\n  }, React.createElement(\"div\", {\n    className: \"label\"\n  }, \"Password\"), React.createElement(PasswordInput, {\n    onKeyDown: submitForm,\n    value: values.password,\n    onChange: function onChange(val) {\n      return setFieldValue(\"password\", val);\n    }\n  })), status && status.error ? React.createElement(DisplayError, {\n    message: status.error,\n    onClose: function onClose() {\n      return setStatus(undefined);\n    }\n  }) : false, React.createElement(\"button\", {\n    disabled: !values.password,\n    type: \"submit\",\n    className: \"button is-link \".concat(isSubmitting ? \"is-loading\" : \"\")\n  }, \"Open\"));\n};\n\nexport default Form;"],"sourceRoot":""}