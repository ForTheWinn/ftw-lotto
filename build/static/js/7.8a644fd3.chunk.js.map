{"version":3,"sources":["scenes/entries/scenes/winners/list.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js","../../ftw-js/packages/fetch-paginate/lib/index.js","components/with-detail/index.tsx","scenes/entries/components/ticket-detail/index.tsx","scenes/entries/scenes/winners/index.tsx"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","WinnerList","_ref","items","onClick","a","createElement","className","length","map","item","key","ticketNo","data-label","gameNo","numbers","join","player","matched","colSpan","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","_objectSpread","target","i","arguments","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","d","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_1___default","bulma_pagination_react__WEBPACK_IMPORTED_MODULE_2__","bulma_pagination_react__WEBPACK_IMPORTED_MODULE_2___default","react_loading_skeleton__WEBPACK_IMPORTED_MODULE_3__","react_loading_skeleton__WEBPACK_IMPORTED_MODULE_3___default","_ref$pageSize","pageSize","load","children","_useState","_useState2","currentPage","setCurrentPage","_useState3","_useState4","totalItems","setTotalItems","_useState5","_useState6","setItems","_useState7","_useState8","isLoading","setLoading","_useState9","undefined","_useState10","error","setError","then","res","catch","e","message","childrenWithExtraProp","Children","child","cloneElement","Fragment","count","pages","Math","ceil","onChange","page","withDetail","ListComponent","DetailComponent","_React$PureComponent","List","_getPrototypeOf2","_this","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","args","Array","_key","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","state","data","onOpen","setState","onClose","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_5___default","assign","props","type","react_icons_fa__WEBPACK_IMPORTED_MODULE_7__","style","padding","React","PureComponent","TicketDetail","nlp2API","ticketCurrency","isVerified","isClaimed","prize","createdAt","_nlp2API$status","status","availableVerifications","currentLotteryNo","indexes","dispatch","useContext","InvokerContext","moment","unix","format","getTicketCurrency","invokeScript","NLP2API","getInvokeScript","claim","openInvoker","_Users_ed_Projects_modules_lottery_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","onClaim","_ftw_js_fetch_paginate__WEBPACK_IMPORTED_MODULE_1__","_components_with_detail__WEBPACK_IMPORTED_MODULE_2__","_list__WEBPACK_IMPORTED_MODULE_3__","_components_ticket_detail__WEBPACK_IMPORTED_MODULE_4__","_components_with_status__WEBPACK_IMPORTED_MODULE_5__","TicketList","Detail","withStatus","console","log","getWinners"],"mappings":"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","file":"static/js/7.8a644fd3.chunk.js","sourcesContent":["import React from \"react\";\n\ninterface EntriesProps {\n  items?: EntryItem[];\n  onClick: (item: EntryItem) => void;\n  isLoading?: boolean;\n}\n\nexport interface EntryItem {\n  gameNo: number;\n  ticketNo: number;\n  ticketCurrency: number;\n  player: string;\n  numbers: [number];\n  isVerified: boolean;\n  matched: number;\n  isClaimed: boolean;\n  prize: number;\n  createdAt: number;\n  referral: string;\n}\n\nconst WinnerList = ({ items, onClick }: EntriesProps) => {\n  return (\n    <table className=\"table is-fullwidth has-mobile-cards is-hoverable\">\n      <thead>\n        <tr>\n          <th>Draw</th>\n          <th>Ticket</th>\n          <th>Numbers</th>\n          <th>Player</th>\n          <th>Matched</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items && items.length > 0 ? (\n          items.map(item => (\n            <tr onClick={() => onClick(item)} key={item.ticketNo}>\n              <td data-label=\"Draw\">#{item.gameNo}</td>\n              <td data-label=\"Ticket\">#{item.ticketNo}</td>\n              <td>{item.numbers.join(\",\")}</td>\n              <td>{item.player}</td>\n              <td>{item.matched} numbers</td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={4}>No winners</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default WinnerList;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import _slicedToArray from \"/Users/ed/Projects/modules/lottery/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from \"react\"; // @ts-ignore\n\nimport Pagination from \"bulma-pagination-react\";\nimport Skeleton from \"react-loading-skeleton\";\n\nvar FetchPaginate = function FetchPaginate(_ref) {\n  var _ref$pageSize = _ref.pageSize,\n      pageSize = _ref$pageSize === void 0 ? 30 : _ref$pageSize,\n      load = _ref.load,\n      children = _ref.children;\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      totalItems = _useState4[0],\n      setTotalItems = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      items = _useState6[0],\n      setItems = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isLoading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState(undefined),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error = _useState10[0],\n      setError = _useState10[1];\n\n  useEffect(function () {\n    setLoading(true);\n    load(currentPage, pageSize).then(function (res) {\n      var items = res.items,\n          totalItems = res.totalItems;\n      setLoading(false);\n      setTotalItems(totalItems); // @ts-ignore\n\n      setItems(items);\n    }).catch(function (e) {\n      setLoading(false);\n      setError(e.message);\n    });\n  }, [currentPage]);\n  var childrenWithExtraProp = React.Children.map(children, function (child) {\n    return React.cloneElement(child, {\n      items: items,\n      isLoading: isLoading\n    });\n  });\n  return React.createElement(React.Fragment, null, error ? React.createElement(\"div\", {\n    className: \"notification is-danger\"\n  }, \"Failed to fetch data from the chain. Please try again.\") : null, isLoading ? React.createElement(Skeleton, {\n    count: 5\n  }) : React.createElement(React.Fragment, null, childrenWithExtraProp, React.createElement(\"hr\", null), React.createElement(Pagination, {\n    pages: Math.ceil(totalItems / pageSize),\n    currentPage: currentPage,\n    onChange: function onChange(page) {\n      return setCurrentPage(page);\n    }\n  })));\n};\n\nexport default FetchPaginate;","import React from \"react\";\nimport className from \"classnames\";\nimport { FaAngleLeft } from \"react-icons/fa\";\n\nconst withDetail = (ListComponent: any, DetailComponent: any) => {\n  return class List extends React.PureComponent {\n    state = {\n      data: undefined,\n    };\n\n    onOpen = (data: any) => {\n      this.setState({\n        data,\n      });\n    };\n\n    onClose = () => {\n      this.setState({ data: undefined });\n    };\n\n    render() {\n      const { data } = this.state;\n      return (\n        <div className=\"is-relative\">\n          <div className={className(data ? \"is-hidden\" : \"\")}>\n            <ListComponent {...this.props} onClick={this.onOpen} />\n          </div>\n          {data ? (\n            <div>\n              <div>\n                <button\n                  onClick={this.onClose}\n                  type=\"button\"\n                  className=\"button is-small is-light\"\n                >\n                  <FaAngleLeft /> Back to list\n                </button>\n                <div style={{ padding: \"15px\" }}>\n                  <DetailComponent {...this.props} data={data} />\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </div>\n      );\n    }\n  }\n};\n\nexport default withDetail;\n","import React, { useContext } from \"react\";\nimport moment from \"moment\";\nimport { NLP2API } from \"@ftw-js/api\";\nimport { InvokerContext } from \"@neo-react/invoker\";\n\nexport interface Ticket {\n  gameNo: number;\n  ticketNo: number;\n  ticketCurrency: number;\n  player: string;\n  numbers: [number];\n  isVerified: boolean;\n  matched: number;\n  isClaimed: boolean;\n  prize: number;\n  createdAt: number;\n  referral: string;\n}\n\ninterface TicketDetailProps {\n  data: Ticket;\n  nlp2API: NLP2API;\n}\n\nconst getTicketCurrency = (type: number) => {\n  switch (type) {\n    case 1:\n      return \"FTX\";\n    case 2:\n      return \"CNEO\";\n    case 3:\n      return \"CGAS\";\n  }\n};\n\nconst TicketDetail = (props: TicketDetailProps) => {\n  const { data, nlp2API } = props;\n  const {\n    ticketNo,\n    ticketCurrency,\n    gameNo,\n    numbers,\n    player,\n    isVerified,\n    isClaimed,\n    matched,\n    prize,\n    createdAt,\n  } = data;\n  const { availableVerifications, indexes } = nlp2API.status;\n  const { currentLotteryNo } = indexes;\n\n  const { dispatch } = useContext(InvokerContext);\n  const onClaim = (ticketNo: number): void => {\n    // @ts-ignore\n    const invokeScript = NLP2API.getInvokeScript.claim([ticketNo]);\n    dispatch.openInvoker({\n      ...invokeScript,\n    });\n  };\n\n  return (\n    <div className=\"content\">\n      <h6>Game no</h6>\n      <p>{gameNo}</p>\n      <h6>Ticket no</h6>\n      <p>{ticketNo}</p>\n      <h6>Player</h6>\n      <p>{player}</p>\n      <h6>Numbers</h6>\n      <p>{numbers.join(\",\")}</p>\n      <h6>Created at</h6>\n      <p> {moment.unix(createdAt).format(\"YYYY-MM-DD hh:mm:ss A\")}</p>\n      <h6>Result</h6>\n      <p>\n        {isVerified\n          ? `Matched ${matched} numbers`\n          : currentLotteryNo === gameNo\n          ? \"Playing\"\n          : \"Verifying\"}\n      </p>\n      <h6>Claim</h6>\n      <p>\n        {matched > 1 ? (\n          isClaimed ? (\n            <>\n              <h6>Prize</h6>\n              <p>{`${prize} ${getTicketCurrency(ticketCurrency)}`}</p>\n            </>\n          ) : (\n            <>\n              {availableVerifications ? (\n                <button\n                  onClick={() => onClaim(ticketNo)}\n                  type=\"button\"\n                  className=\"button is-success\"\n                >\n                  Claim winning prize\n                </button>\n              ) : (\n                <p>Verifying other tickets (</p>\n              )}\n            </>\n          )\n        ) : null}\n      </p>\n    </div>\n  );\n};\n\nexport default TicketDetail;\n","import React from \"react\";\nimport Paginate from \"@ftw-js/fetch-paginate\";\nimport withDetail from \"../../../../components/with-detail\";\nimport List from \"./list\";\nimport Detail from \"../../components/ticket-detail\";\nimport { NLP2API } from \"@ftw-js/api\";\nimport withStatus from \"../../../../components/with-status\";\n\nconst TicketList = withDetail(List, Detail);\n\ninterface Props {\n  nlp2API: NLP2API;\n}\n\nconst Winners = (props: Props) => {\n  console.log(\"Display: Winners\");\n  return (\n    <Paginate pageSize={25} load={props.nlp2API.getWinners}>\n      <TicketList {...props} />\n    </Paginate>\n  );\n};\n\nexport default withStatus(Winners);\n"],"sourceRoot":""}