{"version":3,"sources":["../node_modules/@neo-react/local-wallet/lib/scenes/saved-wallets/components/form.js","../node_modules/@neo-react/local-wallet/lib/scenes/saved-wallets/index.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","formik__WEBPACK_IMPORTED_MODULE_1__","_components_password_input__WEBPACK_IMPORTED_MODULE_2__","props","_props$savedWallets","savedWallets","isSubmitting","errors","values","setFieldValue","submitForm","a","createElement","className","onBlur","e","target","value","map","item","address","key","encryptedKey","onKeyDown","password","onChange","val","type","concat","_cityofzion_neon_js__WEBPACK_IMPORTED_MODULE_0__","_cityofzion_neon_js__WEBPACK_IMPORTED_MODULE_0___default","_components_form__WEBPACK_IMPORTED_MODULE_2__","yup__WEBPACK_IMPORTED_MODULE_3__","react_toastify__WEBPACK_IMPORTED_MODULE_4__","ValidateSchema","shape","required","SavedWallets","Object","mapPropsToValues","length","validationSchema","handleSubmit","_ref","setSubmitting","create","account","decrypt","then","onConnected","provider","privateKey","encrypted","catch","error","message"],"mappings":"8FAAAA,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,KAAAO,EAAAP,EAAA,KAiDeE,EAAA,QA7Cf,SAAAM,GACA,IAAAC,EAAAD,EAAAE,aACAA,OAAA,IAAAD,EAAA,GAAAA,EAEAE,GADAH,EAAAI,OACAJ,EAAAG,cACAE,EAAAL,EAAAK,OACAC,EAAAN,EAAAM,cACAC,EAAAP,EAAAO,WACA,OAASX,EAAAY,EAAKC,cAAeX,EAAA,EAAU,KAAQF,EAAAY,EAAKC,cAAA,OACpDC,UAAA,SACKd,EAAAY,EAAKC,cAAA,OACVC,UAAA,SACG,iBAAoBd,EAAAY,EAAKC,cAAA,OAC5BC,UAAA,WACKd,EAAAY,EAAKC,cAAA,OACVC,UAAA,uBACKd,EAAAY,EAAKC,cAAA,UACVE,OAAA,SAAAC,GACA,OAAAN,EAAA,eAAAM,EAAAC,OAAAC,SAEGZ,EAAAa,IAAA,SAAAC,GACH,SAAAA,MAAAC,UACarB,EAAAY,EAAKC,cAAA,UAClBS,IAAAF,EAAAC,QACAH,MAAAE,EAAAG,cACOH,EAAAC,eAIGrB,EAAAY,EAAKC,cAAA,OACfC,UAAA,SACKd,EAAAY,EAAKC,cAAA,OACVC,UAAA,SACG,YAAed,EAAAY,EAAKC,cAAeV,EAAA,QAAa,CACnDqB,UAAAb,EACAO,MAAAT,EAAAgB,SACAC,SAAA,SAAAC,GACA,OAAAjB,EAAA,WAAAiB,OAEO3B,EAAAY,EAAKC,cAAA,UACZe,KAAA,SACAd,UAAA,kBAAAe,OAAAtB,EAAA,kBACG,4CC9CHX,EAAAC,EAAAC,GAAA,IAAAgC,EAAAlC,EAAA,GAAAmC,EAAAnC,EAAAK,EAAA6B,GAAA5B,EAAAN,EAAA,KAAAoC,EAAApC,EAAA,KAAAqC,EAAArC,EAAA,KAAAsC,EAAAtC,EAAA,KAKAuC,EAAqBF,EAAA,SAAUG,MAAA,CAC/BX,SAAYQ,EAAA,SAAUI,SAAA,cAEtBC,EAAmBC,OAAArC,EAAA,EAAAqC,CAAU,CAC7BC,iBAAA,SAAApC,GACA,OACAmB,aAAAnB,EAAAE,cAAAF,EAAAE,aAAAmC,OAAA,EAAArC,EAAAE,aAAA,GAAAiB,aAAA,GACAE,SAAA,KAGAiB,iBAAAP,EACAQ,aAAA,SAAAlC,EAAAmC,GACA,IAAAxC,EAAAwC,EAAAxC,MACAyC,EAAAD,EAAAC,cACkBd,EAAAnB,EAAIkC,OAAAC,QAAAtC,EAAAc,cACtByB,QAAAvC,EAAAgB,UAAAwB,KAAA,SAAAF,GACAF,GAAA,GACAzC,EAAA8C,YAAA,CACAC,SAAA,QACA9B,QAAA0B,EAAA1B,QACA+B,WAAAL,EAAAK,WACA7B,aAAAwB,EAAAM,cAEKC,MAAA,SAAAtC,GACL6B,GAAA,GACMX,EAAA,EAAKqB,MAAAvC,EAAAwC,aAtBQjB,CAyBhBP,EAAA,SACYlC,EAAA","file":"static/js/18.bd24f1a0.chunk.js","sourcesContent":["import React from \"react\";\nimport { Form as FormikForm } from \"formik\";\nimport PasswordInput from \"../../../components/password-input\";\n\nvar Form = function Form(props) {\n  var _props$savedWallets = props.savedWallets,\n      savedWallets = _props$savedWallets === void 0 ? [] : _props$savedWallets,\n      errors = props.errors,\n      isSubmitting = props.isSubmitting,\n      values = props.values,\n      setFieldValue = props.setFieldValue,\n      submitForm = props.submitForm;\n  return React.createElement(FormikForm, null, React.createElement(\"div\", {\n    className: \"field\"\n  }, React.createElement(\"div\", {\n    className: \"label\"\n  }, \"Saved wallets\"), React.createElement(\"div\", {\n    className: \"control\"\n  }, React.createElement(\"div\", {\n    className: \"select is-fullwidth\"\n  }, React.createElement(\"select\", {\n    onBlur: function onBlur(e) {\n      return setFieldValue(\"encryptedKey\", e.target.value);\n    }\n  }, savedWallets.map(function (item) {\n    if (item && item.address) {\n      return React.createElement(\"option\", {\n        key: item.address,\n        value: item.encryptedKey\n      }, item.address);\n    }\n\n    return false;\n  }))))), React.createElement(\"div\", {\n    className: \"field\"\n  }, React.createElement(\"div\", {\n    className: \"label\"\n  }, \"Password\"), React.createElement(PasswordInput, {\n    onKeyDown: submitForm,\n    value: values.password,\n    onChange: function onChange(val) {\n      return setFieldValue(\"password\", val);\n    }\n  })), React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button is-link \".concat(isSubmitting ? \"is-loading\" : \"\")\n  }, \"Open\"));\n};\n\nexport default Form;","import Neon from \"@cityofzion/neon-js\";\nimport { withFormik } from \"formik\";\nimport Form from \"./components/form\";\nimport * as Yup from \"yup\";\nimport { toast } from \"react-toastify\";\nvar ValidateSchema = Yup.object().shape({\n  password: Yup.string().required(\"Required\")\n});\nvar SavedWallets = withFormik({\n  mapPropsToValues: function mapPropsToValues(props) {\n    return {\n      encryptedKey: props.savedWallets && props.savedWallets.length > 0 ? props.savedWallets[0].encryptedKey : \"\",\n      password: \"\"\n    };\n  },\n  validationSchema: ValidateSchema,\n  handleSubmit: function handleSubmit(values, _ref) {\n    var props = _ref.props,\n        setSubmitting = _ref.setSubmitting;\n    var account = Neon.create.account(values.encryptedKey);\n    account.decrypt(values.password).then(function (account) {\n      setSubmitting(false);\n      props.onConnected({\n        provider: \"LOCAL\",\n        address: account.address,\n        privateKey: account.privateKey,\n        encryptedKey: account.encrypted\n      });\n    }).catch(function (e) {\n      setSubmitting(false);\n      toast.error(e.message);\n    });\n  }\n})(Form);\nexport default SavedWallets;"],"sourceRoot":""}