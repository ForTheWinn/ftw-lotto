{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/with-detail/index.tsx","scenes/entries/components/ticket-detail/index.tsx","scenes/entries/scenes/winners/index.tsx","scenes/entries/scenes/winners/list.tsx"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","__webpack_require__","d","__webpack_exports__","withDetail","ListComponent","DetailComponent","_React$PureComponent","List","_getPrototypeOf2","_this","_Users_ed_Projects_modules_lottery_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_len","arguments","length","args","Array","_key","_Users_ed_Projects_modules_lottery_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_ed_Projects_modules_lottery_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","apply","concat","state","data","undefined","onOpen","setState","onClose","_Users_ed_Projects_modules_lottery_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_ed_Projects_modules_lottery_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","assign","props","onClick","type","react_icons_fa__WEBPACK_IMPORTED_MODULE_7__","style","padding","React","PureComponent","TicketDetail","nlp2API","ticketNo","ticketCurrency","gameNo","numbers","player","isVerified","isClaimed","matched","prize","createdAt","_nlp2API$status","status","availableVerifications","currentLotteryNo","indexes","dispatch","useContext","InvokerContext","onClaim","invokeScript","NLP2API","getInvokeScript","claim","openInvoker","_objectSpread","react__WEBPACK_IMPORTED_MODULE_1___default","join","moment","unix","format","Fragment","getTicketCurrency","r","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ftw_js_fetch_paginate__WEBPACK_IMPORTED_MODULE_1__","_components_with_detail__WEBPACK_IMPORTED_MODULE_2__","_list__WEBPACK_IMPORTED_MODULE_3__","_components_ticket_detail__WEBPACK_IMPORTED_MODULE_4__","_components_with_status__WEBPACK_IMPORTED_MODULE_5__","TicketList","Detail","withStatus","console","log","pageSize","load","getWinners","WinnerList","_ref","items","map","item","data-label","colSpan"],"mappings":"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","file":"static/js/6.39bf67bb.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import React from \"react\";\nimport className from \"classnames\";\nimport { FaAngleLeft } from \"react-icons/fa\";\n\nconst withDetail = (ListComponent: any, DetailComponent: any) => {\n  return class List extends React.PureComponent {\n    state = {\n      data: undefined,\n    };\n\n    onOpen = (data: any) => {\n      this.setState({\n        data,\n      });\n    };\n\n    onClose = () => {\n      this.setState({ data: undefined });\n    };\n\n    render() {\n      const { data } = this.state;\n      return (\n        <div className=\"is-relative\">\n          <div className={className(data ? \"is-hidden\" : \"\")}>\n            <ListComponent {...this.props} onClick={this.onOpen} />\n          </div>\n          {data ? (\n            <div>\n              <div>\n                <button\n                  onClick={this.onClose}\n                  type=\"button\"\n                  className=\"button is-small is-light\"\n                >\n                  <FaAngleLeft /> Back to list\n                </button>\n                <div style={{ padding: \"15px\" }}>\n                  <DetailComponent {...this.props} data={data} />\n                </div>\n              </div>\n            </div>\n          ) : null}\n        </div>\n      );\n    }\n  }\n};\n\nexport default withDetail;\n","import React, { useContext } from \"react\";\nimport moment from \"moment\";\nimport { NLP2API } from \"@ftw-js/api\";\nimport { InvokerContext } from \"@neo-react/invoker\";\n\nexport interface Ticket {\n  gameNo: number;\n  ticketNo: number;\n  ticketCurrency: number;\n  player: string;\n  numbers: [number];\n  isVerified: boolean;\n  matched: number;\n  isClaimed: boolean;\n  prize: number;\n  createdAt: number;\n  referral: string;\n}\n\ninterface TicketDetailProps {\n  data: Ticket;\n  nlp2API: NLP2API;\n}\n\nconst getTicketCurrency = (type: number) => {\n  switch (type) {\n    case 1:\n      return \"FTX\";\n    case 2:\n      return \"CNEO\";\n    case 3:\n      return \"CGAS\";\n  }\n};\n\nconst TicketDetail = (props: TicketDetailProps) => {\n  const { data, nlp2API } = props;\n  const {\n    ticketNo,\n    ticketCurrency,\n    gameNo,\n    numbers,\n    player,\n    isVerified,\n    isClaimed,\n    matched,\n    prize,\n    createdAt,\n  } = data;\n  const { availableVerifications, indexes } = nlp2API.status;\n  const { currentLotteryNo } = indexes;\n\n  const { dispatch } = useContext(InvokerContext);\n  const onClaim = (ticketNo: number): void => {\n    // @ts-ignore\n    const invokeScript = NLP2API.getInvokeScript.claim([ticketNo]);\n    dispatch.openInvoker({\n      ...invokeScript,\n    });\n  };\n\n  return (\n    <div className=\"content\">\n      <h6>Game no</h6>\n      <p>{gameNo}</p>\n      <h6>Ticket no</h6>\n      <p>{ticketNo}</p>\n      <h6>Player</h6>\n      <p>{player}</p>\n      <h6>Numbers</h6>\n      <p>{numbers.join(\",\")}</p>\n      <h6>Created at</h6>\n      <p> {moment.unix(createdAt).format(\"YYYY-MM-DD hh:mm:ss A\")}</p>\n      <h6>Result</h6>\n      <p>\n        {isVerified\n          ? `Matched ${matched} numbers`\n          : currentLotteryNo === gameNo\n          ? \"Playing\"\n          : \"Verifying\"}\n      </p>\n      <h6>Claim</h6>\n      <p>\n        {matched > 1 ? (\n          isClaimed ? (\n            <>\n              <h6>Prize</h6>\n              <p>{`${prize} ${getTicketCurrency(ticketCurrency)}`}</p>\n            </>\n          ) : (\n            <>\n              {availableVerifications ? (\n                <button\n                  onClick={() => onClaim(ticketNo)}\n                  type=\"button\"\n                  className=\"button is-success\"\n                >\n                  Claim winning prize\n                </button>\n              ) : (\n                <p>Verifying other tickets (</p>\n              )}\n            </>\n          )\n        ) : null}\n      </p>\n    </div>\n  );\n};\n\nexport default TicketDetail;\n","import React from \"react\";\nimport Paginate from \"@ftw-js/fetch-paginate\";\nimport withDetail from \"../../../../components/with-detail\";\nimport List from \"./list\";\nimport Detail from \"../../components/ticket-detail\";\nimport { NLP2API } from \"@ftw-js/api\";\nimport withStatus from \"../../../../components/with-status\";\n\nconst TicketList = withDetail(List, Detail);\n\ninterface Props {\n  nlp2API: NLP2API;\n}\n\nconst Winners = (props: Props) => {\n  console.log(\"Display: Winners\");\n  return (\n    <Paginate pageSize={25} load={props.nlp2API.getWinners}>\n      <TicketList {...props} />\n    </Paginate>\n  );\n};\n\nexport default withStatus(Winners);\n","import React from \"react\";\n\ninterface EntriesProps {\n  items?: EntryItem[];\n  onClick: (item: EntryItem) => void;\n  isLoading?: boolean;\n}\n\nexport interface EntryItem {\n  gameNo: number;\n  ticketNo: number;\n  ticketCurrency: number;\n  player: string;\n  numbers: [number];\n  isVerified: boolean;\n  matched: number;\n  isClaimed: boolean;\n  prize: number;\n  createdAt: number;\n  referral: string;\n}\n\nconst WinnerList = ({ items, onClick }: EntriesProps) => {\n  return (\n    <table className=\"table is-fullwidth has-mobile-cards is-hoverable\">\n      <thead>\n        <tr>\n          <th>Draw</th>\n          <th>Ticket</th>\n          <th>Numbers</th>\n          <th>Player</th>\n          <th>Matched</th>\n        </tr>\n      </thead>\n      <tbody>\n        {items && items.length > 0 ? (\n          items.map(item => (\n            <tr onClick={() => onClick(item)} key={item.ticketNo}>\n              <td data-label=\"Draw\">#{item.gameNo}</td>\n              <td data-label=\"Ticket\">#{item.ticketNo}</td>\n              <td>{item.numbers.join(\",\")}</td>\n              <td>{item.player}</td>\n              <td>{item.matched} numbers</td>\n            </tr>\n          ))\n        ) : (\n          <tr>\n            <td colSpan={4}>No winners</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default WinnerList;\n"],"sourceRoot":""}